@app.route("/progress/<exercise_name>")
def progress(exercise_name):

    # 取得每日最大重量（使用 SQLAlchemy ORM）
    rows = (
        db.session.query(
            Strength.date,
            db.func.max(Strength.weight_kg)
        )
        .filter(Strength.exercise_name == exercise_name)
        .group_by(Strength.date)
        .order_by(Strength.date)
        .all()
    )

    dates = [r[0] for r in rows]
    max_weights = [r[1] for r in rows]

    return render_template(
        "progress.html",
        exercise_name=exercise_name,
        dates=dates,
        weights=max_weights
    )
